// Preventive Healthcare Education Module
// Provides comprehensive health education content for rural/semi-urban populations

const preventiveHealthcareData = {
  // Nutrition and Diet
  nutrition: {
    en: {
      title: "ЁЯеЧ Nutrition & Healthy Diet",
      content: `**Essential Nutrition Guidelines:**

ЁЯМ╛ **Balanced Diet Components:**
тАв Cereals & Grains: Rice, wheat, millets (50-60% of diet)
тАв Proteins: Dal, eggs, fish, chicken (15-20%)
тАв Vegetables: Green leafy, seasonal vegetables (20-25%)
тАв Fruits: Seasonal fruits rich in vitamins (10-15%)
тАв Dairy: Milk, curd for calcium (1-2 glasses daily)

ЁЯеЫ **Daily Requirements:**
тАв Water: 8-10 glasses per day
тАв Salt: Less than 5g per day
тАв Sugar: Limit processed sweets
тАв Oil: 2-3 teaspoons per day

тЪая╕П **Foods to Avoid:**
тАв Processed and packaged foods
тАв Excessive oil and fried items
тАв Too much salt and sugar
тАв Stale or contaminated food

ЁЯТб **Tips for Rural Areas:**
тАв Use local seasonal vegetables
тАв Include traditional grains like ragi, bajra
тАв Consume fresh, home-cooked meals
тАв Store food properly to prevent contamination`,
      keywords: ['nutrition', 'diet', 'food', 'healthy eating', 'balanced diet']
    },
    hi: {
      title: "ЁЯеЧ рдкреЛрд╖рдг рдФрд░ рд╕реНрд╡рд╕реНрде рдЖрд╣рд╛рд░",
      content: `**рдЖрд╡рд╢реНрдпрдХ рдкреЛрд╖рдг рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢:**

ЁЯМ╛ **рд╕рдВрддреБрд▓рд┐рдд рдЖрд╣рд╛рд░ рдХреЗ рдШрдЯрдХ:**
тАв рдЕрдирд╛рдЬ: рдЪрд╛рд╡рд▓, рдЧреЗрд╣реВрдВ, рдмрд╛рдЬрд░рд╛ (рдЖрд╣рд╛рд░ рдХрд╛ 50-60%)
тАв рдкреНрд░реЛрдЯреАрди: рджрд╛рд▓, рдЕрдВрдбреЗ, рдордЫрд▓реА, рдЪрд┐рдХрди (15-20%)
тАв рд╕рдмреНрдЬрд┐рдпрд╛рдВ: рд╣рд░реА рдкрддреНрддреЗрджрд╛рд░, рдореМрд╕рдореА рд╕рдмреНрдЬрд┐рдпрд╛рдВ (20-25%)
тАв рдлрд▓: рд╡рд┐рдЯрд╛рдорд┐рди рдпреБрдХреНрдд рдореМрд╕рдореА рдлрд▓ (10-15%)
тАв рдбреЗрдпрд░реА: рджреВрдз, рджрд╣реА рдХреИрд▓реНрд╢рд┐рдпрдо рдХреЗ рд▓рд┐рдП (рджрд┐рди рдореЗрдВ 1-2 рдЧрд┐рд▓рд╛рд╕)

ЁЯеЫ **рджреИрдирд┐рдХ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ:**
тАв рдкрд╛рдиреА: рджрд┐рди рдореЗрдВ 8-10 рдЧрд┐рд▓рд╛рд╕
тАв рдирдордХ: рджрд┐рди рдореЗрдВ 5 рдЧреНрд░рд╛рдо рд╕реЗ рдХрдо
тАв рдЪреАрдиреА: рдкреНрд░рд╕рдВрд╕реНрдХреГрдд рдорд┐рдард╛рдЗрдпреЛрдВ рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдВ
тАв рддреЗрд▓: рджрд┐рди рдореЗрдВ 2-3 рдЪрдореНрдордЪ

тЪая╕П **рдмрдЪрдиреЗ рдпреЛрдЧреНрдп рдЦрд╛рджреНрдп рдкрджрд╛рд░реНрде:**
тАв рдкреНрд░рд╕рдВрд╕реНрдХреГрдд рдФрд░ рдкреИрдХреЗрдЬреНрдб рдЦрд╛рдирд╛
тАв рдЕрдзрд┐рдХ рддреЗрд▓ рдФрд░ рддрд▓реА рд╣реБрдИ рдЪреАрдЬреЗрдВ
тАв рдмрд╣реБрдд рдЬреНрдпрд╛рджрд╛ рдирдордХ рдФрд░ рдЪреАрдиреА
тАв рдмрд╛рд╕реА рдпрд╛ рджреВрд╖рд┐рдд рднреЛрдЬрди

ЁЯТб **рдЧреНрд░рд╛рдореАрдг рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕реБрдЭрд╛рд╡:**
тАв рд╕реНрдерд╛рдиреАрдп рдореМрд╕рдореА рд╕рдмреНрдЬрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
тАв рд░рд╛рдЧреА, рдмрд╛рдЬрд░рд╛ рдЬреИрд╕реЗ рдкрд╛рд░рдВрдкрд░рд┐рдХ рдЕрдирд╛рдЬ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВ
тАв рддрд╛рдЬрд╛, рдШрд░ рдХрд╛ рдмрдирд╛ рдЦрд╛рдирд╛ рдЦрд╛рдПрдВ
тАв рд╕рдВрджреВрд╖рдг рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рднреЛрдЬрди рдХреЛ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд╕реНрдЯреЛрд░ рдХрд░реЗрдВ`
    },
    te: {
      title: "ЁЯеЧ р░кр▒Лр░╖р░г р░ор░░р░┐р░пр▒Б р░Жр░░р▒Лр░Чр▒Нр░пр░Хр░░р░ор▒Ир░и р░Жр░╣р░╛р░░р░В",
      content: `**р░Ер░╡р░╕р░░р░ор▒Ир░и р░кр▒Лр░╖р░г р░ор░╛р░░р▒Нр░Чр░жр░░р▒Нр░╢р░Хр░╛р░▓р▒Б:**

ЁЯМ╛ **р░╕р░ор░др▒Бр░▓р▒Нр░п р░Жр░╣р░╛р░░ р░нр░╛р░Чр░╛р░▓р▒Б:**
тАв р░зр░╛р░ир▒Нр░пр░╛р░▓р▒Б: р░мр░┐р░пр▒Нр░пр░В, р░Чр▒Лр░зр▒Бр░ор░▓р▒Б, р░░р░╛р░Чр▒Бр░▓р▒Б (р░Жр░╣р░╛р░░р░Вр░▓р▒Л 50-60%)
тАв р░кр▒Нр░░р▒Лр░Яр▒Ар░ир▒Нр░▓р▒Б: р░кр░кр▒Нр░кр▒Бр░▓р▒Б, р░Чр▒Бр░бр▒Нр░▓р▒Б, р░Ър▒Зр░кр░▓р▒Б, р░Хр▒Лр░бр░┐ (15-20%)
тАв р░Хр▒Вр░░р░Чр░╛р░пр░▓р▒Б: р░Жр░Хр▒Бр░Хр▒Вр░░р░▓р▒Б, р░Хр░╛р░▓р░╛р░ир▒Бр░Чр▒Бр░г р░Хр▒Вр░░р░Чр░╛р░пр░▓р▒Б (20-25%)
тАв р░кр░Вр░бр▒Нр░▓р▒Б: р░╡р░┐р░Яр░ор░┐р░ир▒Нр░▓р▒Б р░Ер░зр░┐р░Хр░Вр░Чр░╛ р░Йр░Вр░бр▒З р░Хр░╛р░▓р░╛р░ир▒Бр░Чр▒Бр░г р░кр░Вр░бр▒Нр░▓р▒Б (10-15%)
тАв р░кр░╛р░▓ р░Йр░др▒Нр░кр░╛р░жр░╛р░▓р▒Б: р░кр░╛р░▓р▒Б, р░кр▒Жр░░р▒Бр░Чр▒Б р░Хр░╛р░▓р▒Нр░╖р░┐р░пр░В р░Хр▒Лр░╕р░В (р░░р▒Лр░Ьр▒Бр░Хр▒Б 1-2 р░Чр▒Нр░▓р░╛р░╕р▒Бр░▓р▒Б)

ЁЯеЫ **р░░р▒Лр░Ьр▒Бр░╡р░╛р░░р▒А р░Ер░╡р░╕р░░р░╛р░▓р▒Б:**
тАв р░ир▒Ар░░р▒Б: р░░р▒Лр░Ьр▒Бр░Хр▒Б 8-10 р░Чр▒Нр░▓р░╛р░╕р▒Бр░▓р▒Б
тАв р░Йр░кр▒Нр░кр▒Б: р░░р▒Лр░Ьр▒Бр░Хр▒Б 5 р░Чр▒Нр░░р░╛р░ор▒Бр░▓ р░Хр░Вр░Яр▒З р░др░Хр▒Нр░Хр▒Бр░╡
тАв р░Ър░Хр▒Нр░Хр▒Жр░░: р░кр▒Нр░░р░╛р░╕р▒Жр░╕р▒Н р░Ър▒Зр░╕р░┐р░и р░др▒Ар░кр░┐р░ир░┐ р░кр░░р░┐р░ор░┐р░др░В р░Ър▒Зр░пр░Вр░бр░┐
тАв р░ир▒Вр░ир▒Ж: р░░р▒Лр░Ьр▒Бр░Хр▒Б 2-3 р░Яр▒Ар░╕р▒Нр░кр▒Вр░ир▒Нр░▓р▒Б

тЪая╕П **р░др░кр▒Нр░кр░┐р░Вр░Ър░╡р░▓р░╕р░┐р░и р░Жр░╣р░╛р░░р░╛р░▓р▒Б:**
тАв р░кр▒Нр░░р░╛р░╕р▒Жр░╕р▒Н р░Ър▒Зр░╕р░┐р░и р░ор░░р░┐р░пр▒Б р░кр▒Нр░пр░╛р░Хр▒Зр░Ьр▒А р░Ър▒Зр░╕р░┐р░и р░Жр░╣р░╛р░░р░╛р░▓р▒Б
тАв р░Ер░зр░┐р░Х р░ир▒Вр░ир▒Ж р░ор░░р░┐р░пр▒Б р░╡р▒Зр░пр░┐р░Вр░Ър░┐р░и р░╡р░╕р▒Нр░др▒Бр░╡р▒Бр░▓р▒Б
тАв р░Ър░╛р░▓р░╛ р░Ор░Хр▒Нр░Хр▒Бр░╡ р░Йр░кр▒Нр░кр▒Б р░ор░░р░┐р░пр▒Б р░Ър░Хр▒Нр░Хр▒Жр░░
тАв р░кр░╛р░д р░▓р▒Зр░жр░╛ р░Хр░▓р▒Бр░╖р░┐р░др░ор▒Ир░и р░Жр░╣р░╛р░░р░В

ЁЯТб **р░Чр▒Нр░░р░╛р░ор▒Ар░г р░кр▒Нр░░р░╛р░Вр░др░╛р░▓р░Хр▒Б р░Ър░┐р░Яр▒Нр░Хр░╛р░▓р▒Б:**
тАв р░╕р▒Нр░ер░╛р░ир░┐р░Х р░Хр░╛р░▓р░╛р░ир▒Бр░Чр▒Бр░г р░Хр▒Вр░░р░Чр░╛р░пр░▓р░ир▒Б р░Йр░кр░пр▒Лр░Чр░┐р░Вр░Ър░Вр░бр░┐
тАв р░░р░╛р░Чр░┐, р░╕р░Ьр▒Нр░Ь р░╡р░Вр░Яр░┐ р░╕р░╛р░Вр░кр▒Нр░░р░жр░╛р░п р░зр░╛р░ир▒Нр░пр░╛р░▓р░ир▒Б р░Ър▒Зр░░р▒Нр░Ър░Вр░бр░┐
тАв р░др░╛р░Ьр░╛, р░Зр░Вр░Яр▒Нр░▓р▒Л р░╡р░Вр░бр░┐р░и р░нр▒Лр░Ьр░ир░В р░др▒Ар░╕р▒Бр░Хр▒Лр░Вр░бр░┐
тАв р░Хр░▓р▒Бр░╖р░гр░ир▒Б р░ир░┐р░╡р░╛р░░р░┐р░Вр░Ър░бр░╛р░ир░┐р░Хр░┐ р░Жр░╣р░╛р░░р░╛р░ир▒Нр░ир░┐ р░╕р░░р░┐р░Чр▒Нр░Чр░╛ р░ир░┐р░▓р▒Нр░╡ р░Ър▒Зр░пр░Вр░бр░┐`
    }
  },

  // Personal Hygiene
  hygiene: {
    en: {
      title: "ЁЯз╝ Personal Hygiene & Sanitation",
      content: `**Essential Hygiene Practices:**

ЁЯЪ┐ **Daily Hygiene:**
тАв Bath daily with soap and clean water
тАв Brush teeth twice daily (morning & night)
тАв Wash hands frequently with soap for 20 seconds
тАв Keep nails short and clean
тАв Wear clean clothes daily

ЁЯСР **Hand Hygiene (Critical):**
тАв Before eating meals
тАв After using toilet
тАв After touching animals
тАв Before cooking food
тАв After coughing/sneezing
тАв When returning home

ЁЯПа **Home Sanitation:**
тАв Keep living area clean and ventilated
тАв Dispose garbage properly in covered bins
тАв Clean water storage containers regularly
тАв Maintain clean kitchen and cooking utensils
тАв Keep toilets clean and disinfected

ЁЯТз **Water Safety:**
тАв Boil water if source is doubtful
тАв Store water in clean, covered containers
тАв Clean water storage tanks monthly
тАв Use separate utensils for drinking water

тЪая╕П **Disease Prevention:**
тАв Proper hygiene prevents 60% of diseases
тАв Reduces diarrhea, cholera, typhoid risk
тАв Prevents skin infections and respiratory diseases
тАв Essential for family health protection`,
      keywords: ['hygiene', 'sanitation', 'cleanliness', 'handwashing', 'water safety']
    },
    hi: {
      title: "ЁЯз╝ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕реНрд╡рдЪреНрдЫрддрд╛ рдФрд░ рд╕рдлрд╛рдИ",
      content: `**рдЖрд╡рд╢реНрдпрдХ рд╕реНрд╡рдЪреНрдЫрддрд╛ рдкреНрд░рдерд╛рдПрдВ:**

ЁЯЪ┐ **рджреИрдирд┐рдХ рд╕реНрд╡рдЪреНрдЫрддрд╛:**
тАв рд░реЛрдЬ рд╕рд╛рдмреБрди рдФрд░ рд╕рд╛рдл рдкрд╛рдиреА рд╕реЗ рдирд╣рд╛рдПрдВ
тАв рджрд┐рди рдореЗрдВ рджреЛ рдмрд╛рд░ рджрд╛рдВрдд рд╕рд╛рдл рдХрд░реЗрдВ (рд╕реБрдмрд╣ рдФрд░ рд░рд╛рдд)
тАв 20 рд╕реЗрдХрдВрдб рддрдХ рд╕рд╛рдмреБрди рд╕реЗ рд╣рд╛рде рдзреЛрдПрдВ
тАв рдирд╛рдЦреВрди рдЫреЛрдЯреЗ рдФрд░ рд╕рд╛рдл рд░рдЦреЗрдВ
тАв рд░реЛрдЬ рд╕рд╛рдл рдХрдкрдбрд╝реЗ рдкрд╣рдиреЗрдВ

ЁЯСР **рд╣рд╛рдереЛрдВ рдХреА рд╕рдлрд╛рдИ (рдорд╣рддреНрд╡рдкреВрд░реНрдг):**
тАв рдЦрд╛рдирд╛ рдЦрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ
тАв рд╢реМрдЪрд╛рд▓рдп рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреЗ рдмрд╛рдж
тАв рдЬрд╛рдирд╡рд░реЛрдВ рдХреЛ рдЫреВрдиреЗ рдХреЗ рдмрд╛рдж
тАв рдЦрд╛рдирд╛ рдмрдирд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ
тАв рдЦрд╛рдВрд╕рдиреЗ/рдЫреАрдВрдХрдиреЗ рдХреЗ рдмрд╛рдж
тАв рдШрд░ рд╡рд╛рдкрд╕ рдЖрдиреЗ рдкрд░

ЁЯПа **рдШрд░ рдХреА рд╕рдлрд╛рдИ:**
тАв рд░рд╣рдиреЗ рдХреА рдЬрдЧрд╣ рдХреЛ рд╕рд╛рдл рдФрд░ рд╣рд╡рд╛рджрд╛рд░ рд░рдЦреЗрдВ
тАв рдХреВрдбрд╝реЗ рдХреЛ рдврдХреЗ рд╣реБрдП рдбрд┐рдмреНрдмреЗ рдореЗрдВ рдлреЗрдВрдХреЗрдВ
тАв рдкрд╛рдиреА рдХреЗ рдмрд░реНрддрдиреЛрдВ рдХреЛ рдирд┐рдпрдорд┐рдд рд╕рд╛рдл рдХрд░реЗрдВ
тАв рд░рд╕реЛрдИ рдФрд░ рдмрд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╛рдл рд░рдЦреЗрдВ
тАв рд╢реМрдЪрд╛рд▓рдп рдХреЛ рд╕рд╛рдл рдФрд░ рдХреАрдЯрд╛рдгреБрд░рд╣рд┐рдд рд░рдЦреЗрдВ

ЁЯТз **рдкрд╛рдиреА рдХреА рд╕реБрд░рдХреНрд╖рд╛:**
тАв рд╕рдВрджрд┐рдЧреНрдз рд╕реНрд░реЛрдд рдХрд╛ рдкрд╛рдиреА рдЙрдмрд╛рд▓реЗрдВ
тАв рд╕рд╛рдл, рдврдХреЗ рд╣реБрдП рдмрд░реНрддрдиреЛрдВ рдореЗрдВ рдкрд╛рдиреА рд╕реНрдЯреЛрд░ рдХрд░реЗрдВ
тАв рдкрд╛рдиреА рдХреА рдЯрдВрдХреА рдорд╣реАрдиреЗ рдореЗрдВ рдПрдХ рдмрд╛рд░ рд╕рд╛рдл рдХрд░реЗрдВ
тАв рдкреАрдиреЗ рдХреЗ рдкрд╛рдиреА рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рдмрд░реНрддрди рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░реЗрдВ

тЪая╕П **рдмреАрдорд╛рд░реА рдХреА рд░реЛрдХрдерд╛рдо:**
тАв рдЙрдЪрд┐рдд рд╕реНрд╡рдЪреНрдЫрддрд╛ 60% рдмреАрдорд╛рд░рд┐рдпреЛрдВ рдХреЛ рд░реЛрдХрддреА рд╣реИ
тАв рджрд╕реНрдд, рд╣реИрдЬрд╛, рдЯрд╛рдЗрдлрд╛рдЗрдб рдХрд╛ рдЦрддрд░рд╛ рдХрдо рдХрд░рддреА рд╣реИ
тАв рддреНрд╡рдЪрд╛ рд╕рдВрдХреНрд░рдордг рдФрд░ рд╕рд╛рдВрд╕ рдХреА рдмреАрдорд╛рд░рд┐рдпреЛрдВ рдХреЛ рд░реЛрдХрддреА рд╣реИ
тАв рдкрд╛рд░рд┐рд╡рд╛рд░рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ`
    }
  },

  // Exercise and Physical Activity
  exercise: {
    en: {
      title: "ЁЯПГтАНтЩВя╕П Exercise & Physical Activity",
      content: `**Physical Activity Guidelines:**

ЁЯЪ╢тАНтЩАя╕П **Daily Activities (30 minutes minimum):**
тАв Brisk walking in morning/evening
тАв Household work and farming activities
тАв Climbing stairs instead of elevators
тАв Cycling for short distances
тАв Traditional exercises like yoga

ЁЯТк **Simple Exercises for Rural Areas:**
тАв Morning stretches (5-10 minutes)
тАв Squats and lunges (10-15 reps)
тАв Push-ups against wall (for beginners)
тАв Deep breathing exercises
тАв Walking meditation

ЁЯзШтАНтЩАя╕П **Yoga & Traditional Practices:**
тАв Surya Namaskars (Sun Salutations)
тАв Pranayama (breathing exercises)
тАв Basic asanas for flexibility
тАв Meditation for mental health
тАв Traditional dance forms

тЪб **Benefits of Regular Exercise:**
тАв Strengthens heart and lungs
тАв Improves blood circulation
тАв Reduces diabetes and BP risk
тАв Enhances mental health
тАв Increases energy levels
тАв Better sleep quality

ЁЯСе **Community Activities:**
тАв Group walking in villages
тАв Traditional sports and games
тАв Community yoga sessions
тАв Farming as physical activity
тАв Festival celebrations with dancing

тЪая╕П **Safety Tips:**
тАв Start slowly and gradually increase
тАв Stay hydrated during exercise
тАв Avoid exercising in extreme heat
тАв Listen to your body
тАв Consult doctor if you have health conditions`,
      keywords: ['exercise', 'physical activity', 'yoga', 'walking', 'fitness']
    }
  },

  // Mental Health
  mentalHealth: {
    en: {
      title: "ЁЯза Mental Health & Well-being",
      content: `**Mental Health Awareness:**

ЁЯШМ **Understanding Mental Health:**
тАв Mental health is as important as physical health
тАв Common issues: stress, anxiety, depression
тАв Affects daily life, relationships, and work
тАв Can be treated with proper care and support

ЁЯМ▒ **Signs of Good Mental Health:**
тАв Feeling positive about life
тАв Handling stress effectively
тАв Maintaining relationships
тАв Making decisions confidently
тАв Enjoying daily activities

тЪая╕П **Warning Signs to Watch:**
тАв Persistent sadness or worry
тАв Loss of interest in activities
тАв Changes in sleep or appetite
тАв Difficulty concentrating
тАв Thoughts of self-harm

ЁЯЫая╕П **Self-Care Strategies:**
тАв Regular sleep schedule (7-8 hours)
тАв Healthy eating and exercise
тАв Connect with family and friends
тАв Practice relaxation techniques
тАв Engage in hobbies and interests

ЁЯдЭ **Community Support:**
тАв Talk to trusted family members
тАв Seek help from community elders
тАв Join local support groups
тАв Participate in religious/spiritual activities
тАв Help others in community

ЁЯТб **Stress Management:**
тАв Deep breathing exercises
тАв Meditation and prayer
тАв Time in nature
тАв Physical activity
тАв Limiting negative news/social media

ЁЯПе **When to Seek Help:**
тАв Symptoms persist for weeks
тАв Interfering with daily life
тАв Thoughts of harming self/others
тАв Substance abuse problems
тАв Family/friends express concern

Remember: Mental health problems are treatable. Seeking help is a sign of strength, not weakness.`,
      keywords: ['mental health', 'stress', 'anxiety', 'depression', 'well-being']
    }
  }
};

// Function to get preventive healthcare content
const getPreventiveHealthcareContent = (topic, language = 'en') => {
  const content = preventiveHealthcareData[topic];
  if (!content) {
    return null;
  }
  
  return content[language] || content['en'];
};

// Function to search preventive healthcare topics
const searchPreventiveHealthcare = (query, language = 'en') => {
  const results = [];
  const searchQuery = query.toLowerCase();
  
  for (const [topic, content] of Object.entries(preventiveHealthcareData)) {
    const langContent = content[language] || content['en'];
    
    // Check if query matches title or keywords
    const titleMatch = langContent.title.toLowerCase().includes(searchQuery);
    const keywordMatch = langContent.keywords?.some(keyword => 
      keyword.toLowerCase().includes(searchQuery) || 
      searchQuery.includes(keyword.toLowerCase())
    );
    
    if (titleMatch || keywordMatch) {
      results.push({
        topic,
        title: langContent.title,
        content: langContent.content,
        relevance: titleMatch ? 2 : 1
      });
    }
  }
  
  // Sort by relevance
  return results.sort((a, b) => b.relevance - a.relevance);
};

// Function to get all available topics
const getAllPreventiveHealthcareTopics = (language = 'en') => {
  const topics = [];
  
  for (const [topic, content] of Object.entries(preventiveHealthcareData)) {
    const langContent = content[language] || content['en'];
    topics.push({
      topic,
      title: langContent.title,
      keywords: langContent.keywords
    });
  }
  
  return topics;
};

// Function to generate preventive healthcare menu
const generatePreventiveHealthcareMenu = (language = 'en') => {
  const menuTexts = {
    en: {
      header: 'ЁЯПе Preventive Healthcare Education',
      body: 'Select a topic to learn about preventive healthcare:',
      topics: {
        nutrition: 'ЁЯеЧ Nutrition & Diet',
        hygiene: 'ЁЯз╝ Hygiene & Sanitation',
        exercise: 'ЁЯПГтАНтЩВя╕П Exercise & Fitness',
        mentalHealth: 'ЁЯза Mental Health'
      }
    },
    hi: {
      header: 'ЁЯПе рдирд┐рд╡рд╛рд░рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╢рд┐рдХреНрд╖рд╛',
      body: 'рдирд┐рд╡рд╛рд░рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╖рдп рдЪреБрдиреЗрдВ:',
      topics: {
        nutrition: 'ЁЯеЧ рдкреЛрд╖рдг рдФрд░ рдЖрд╣рд╛рд░',
        hygiene: 'ЁЯз╝ рд╕реНрд╡рдЪреНрдЫрддрд╛ рдФрд░ рд╕рдлрд╛рдИ',
        exercise: 'ЁЯПГтАНтЩВя╕П рд╡реНрдпрд╛рдпрд╛рдо рдФрд░ рдлрд┐рдЯрдиреЗрд╕',
        mentalHealth: 'ЁЯза рдорд╛рдирд╕рд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп'
      }
    }
  };
  
  const text = menuTexts[language] || menuTexts['en'];
  
  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: text.header
      },
      body: {
        text: text.body
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'prev_nutrition',
              title: text.topics.nutrition
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'prev_hygiene',
              title: text.topics.hygiene
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'prev_exercise',
              title: text.topics.exercise
            }
          }
        ]
      }
    }
  };
};

module.exports = {
  getPreventiveHealthcareContent,
  searchPreventiveHealthcare,
  getAllPreventiveHealthcareTopics,
  generatePreventiveHealthcareMenu,
  preventiveHealthcareData
};
