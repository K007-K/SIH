// Main menu system with WhatsApp interactive buttons for healthcare features

// Generate main healthcare menu buttons
const generateMainMenuButtons = (userLanguage = 'en') => {
  const translations = {
    en: {
      header: 'ЁЯПе Healthcare Assistant Menu',
      body: 'Welcome to your comprehensive healthcare assistant! Choose a service:',
      symptoms: 'ЁЯФН Symptoms',
      chat: 'ЁЯТм Chat with AI',
      more: 'ЁЯУЛ More Services'
    },
    hi: {
      header: 'ЁЯПе рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рд╣рд╛рдпрдХ рдореЗрдиреВ',
      body: 'рдЖрдкрдХреЗ рд╡реНрдпрд╛рдкрдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рд╣рд╛рдпрдХ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! рдПрдХ рд╕реЗрд╡рд╛ рдЪреБрдиреЗрдВ:',
      symptoms: 'ЁЯФН рд▓рдХреНрд╖рдг',
      chat: 'ЁЯТм AI рд╕реЗ рдмрд╛рдд рдХрд░реЗрдВ',
      more: 'ЁЯУЛ рдЕрдзрд┐рдХ рд╕реЗрд╡рд╛рдПрдВ'
    },
    hi_roman: {
      header: 'ЁЯПе Swasthya Sahayak Menu',
      body: 'Aapke vyapak swasthya sahayak mein aapka swagat hai! Ek seva chuniye:',
      symptoms: 'ЁЯФН Lakshan',
      chat: 'ЁЯТм AI se Baat Karen',
      more: 'ЁЯУЛ Adhik Sevayen'
    },
    te: {
      header: 'ЁЯПе р░Жр░░р▒Лр░Чр▒Нр░п р░╕р░╣р░╛р░пр░Х р░ор▒Жр░ир▒В',
      body: 'р░ор▒А р░╕р░ор░Чр▒Нр░░ р░Жр░░р▒Лр░Чр▒Нр░п р░╕р░╣р░╛р░пр░Хр▒Бр░бр░┐р░Хр░┐ р░╕р▒Нр░╡р░╛р░Чр░др░В! р░Тр░Х р░╕р▒Зр░╡р░ир▒Б р░Ор░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐:',
      symptoms: 'ЁЯФН р░▓р░Хр▒Нр░╖р░гр░╛р░▓р▒Б',
      chat: 'ЁЯТм AI р░др▒Л р░Ър░╛р░Яр▒Н р░Ър▒Зр░пр░Вр░бр░┐',
      more: 'ЁЯУЛ р░ор░░р░┐р░ир▒Нр░ир░┐ р░╕р▒Зр░╡р░▓р▒Б'
    },
    te_roman: {
      header: 'ЁЯПе Arogya Sahayaka Menu',
      body: 'Mee samagra arogya sahayakudiki swagatam! Oka sevanu enchukondi:',
      symptoms: 'ЁЯФН Lakshanalu',
      chat: 'ЁЯТм AI tho Chat Cheyandi',
      more: 'ЁЯУЛ Marini Sevalu'
    },
    ta: {
      header: 'ЁЯПе роЪрпБроХро╛родро╛ро░ роЙродро╡ро┐ропро╛ро│ро░рпН роорпЖройрпБ',
      body: 'роЙроЩрпНроХро│рпН ро╡ро┐ро░ро┐ро╡ро╛рой роЪрпБроХро╛родро╛ро░ роЙродро╡ро┐ропро╛ро│ро░рпБроХрпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН! роТро░рпБ роЪрпЗро╡рпИропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН:',
      symptoms: 'ЁЯФН роЕро▒ро┐роХрпБро▒ро┐роХро│рпН',
      chat: 'ЁЯТм AI роЙроЯройрпН роЕро░роЯрпНроЯрпИ',
      more: 'ЁЯУЛ роорпЗро▓рпБроорпН роЪрпЗро╡рпИроХро│рпН'
    },
    ta_roman: {
      header: 'ЁЯПе Sugathara Uthaviyalar Menu',
      body: 'Unga virivana sugathara uthaviyalarukku varaverpkirom! Oru sevaiyai thernthedukavum:',
      symptoms: 'ЁЯФН Arikurikal',
      chat: 'ЁЯТм AI udan Arattai',
      more: 'ЁЯУЛ Melum Sevaikal'
    },
    or: {
      header: 'ЁЯПе рм╕рнНрн▒рм╛рм╕рнНрмернНрнЯ рм╕рм╣рм╛рнЯрмХ рморнЗрмирнБ',
      body: 'рмЖрмкрмгрмЩрнНрмХрм░ рммрнНрнЯрм╛рмкрмХ рм╕рнНрн▒рм╛рм╕рнНрмернНрнЯ рм╕рм╣рм╛рнЯрмХрмЩрнНрмХрнБ рм╕рнНрн▒рм╛рмЧрмд! рмПрмХ рм╕рнЗрммрм╛ рммрм╛рмЫрмирнНрмдрнБ:',
      symptoms: 'ЁЯФН рм▓рмХрнНрм╖рмг',
      chat: 'ЁЯТм AI рм╕рм╣рм┐рмд рмХрмерм╛ рм╣рнБрмЕрмирнНрмдрнБ',
      more: 'ЁЯУЛ рмЕрмзрм┐рмХ рм╕рнЗрммрм╛'
    },
    or_roman: {
      header: 'ЁЯПе Swasthya Sahayaka Menu',
      body: 'Apankara byapaka swasthya sahayakankku swagata! Eka seva bachhantu:',
      symptoms: 'ЁЯФН Lakshana',
      chat: 'ЁЯТм AI sahita Katha Huantu',
      more: 'ЁЯУЛ Adhika Seva'
    }
  };

  const lang = translations[userLanguage] || translations.en;

  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: lang.header
      },
      body: {
        text: lang.body
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'symptom_checker',
              title: lang.symptoms
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'chat_with_ai',
              title: lang.chat
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'more_services',
              title: lang.more
            }
          }
        ]
      }
    }
  };
};

// Generate secondary menu for more features
const generateSecondaryMenuButtons = (userLanguage = 'en') => {
  const translations = {
    en: {
      header: 'ЁЯУЪ More Health Services',
      body: 'Additional healthcare services and education:',
      vaccines: 'ЁЯТЙ Vaccines',
      alerts: 'ЁЯЪи Alerts',
      prevention: 'ЁЯЫбя╕П Prevention'
    },
    hi: {
      header: 'ЁЯУЪ рдЕрдзрд┐рдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛рдПрдВ',
      body: 'рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗрд╡рд╛рдПрдВ рдФрд░ рд╢рд┐рдХреНрд╖рд╛:',
      vaccines: 'ЁЯТЙ рдЯреАрдХреЗ',
      alerts: 'ЁЯЪи рдЕрд▓рд░реНрдЯ',
      prevention: 'ЁЯЫбя╕П рдмрдЪрд╛рд╡'
    },
    hi_roman: {
      header: 'ЁЯУЪ Adhik Swasthya Sevayen',
      body: 'Atirikt swasthya sevayen aur shiksha:',
      vaccines: 'ЁЯТЙ Teeke',
      alerts: 'ЁЯЪи Alert',
      prevention: 'ЁЯЫбя╕П Bachav'
    },
    te: {
      header: 'ЁЯУЪ р░ор░░р░┐р░ир▒Нр░ир░┐ р░Жр░░р▒Лр░Чр▒Нр░п р░╕р▒Зр░╡р░▓р▒Б',
      body: 'р░Ер░жр░ир░кр▒Б р░Жр░░р▒Лр░Чр▒Нр░п р░╕р▒Зр░╡р░▓р▒Б р░ор░░р░┐р░пр▒Б р░╡р░┐р░жр▒Нр░п:',
      vaccines: 'ЁЯТЙ р░╡р▒Нр░пр░╛р░Хр▒Нр░╕р░┐р░ир▒Нр░▓р▒Б',
      alerts: 'ЁЯЪи р░╣р▒Жр░Ър▒Нр░Ър░░р░┐р░Хр░▓р▒Б',
      prevention: 'ЁЯЫбя╕П р░ир░┐р░╡р░╛р░░р░г'
    },
    te_roman: {
      header: 'ЁЯУЪ Marini Arogya Sevalu',
      body: 'Adanapu arogya sevalu mariyu vidya:',
      vaccines: 'ЁЯТЙ Vaccines',
      alerts: 'ЁЯЪи Alerts',
      prevention: 'ЁЯЫбя╕П Nivarana'
    },
    ta: {
      header: 'ЁЯУЪ роорпЗро▓рпБроорпН роЪрпБроХро╛родро╛ро░ роЪрпЗро╡рпИроХро│рпН',
      body: 'роХрпВроЯрпБродро▓рпН роЪрпБроХро╛родро╛ро░ роЪрпЗро╡рпИроХро│рпН рооро▒рпНро▒рпБроорпН роХро▓рпНро╡ро┐:',
      vaccines: 'ЁЯТЙ родроЯрпБрокрпНрокрпВроЪро┐роХро│рпН',
      alerts: 'ЁЯЪи роОроЪрпНроЪро░ро┐роХрпНроХрпИроХро│рпН',
      prevention: 'ЁЯЫбя╕П родроЯрпБрокрпНрокрпБ'
    },
    ta_roman: {
      header: 'ЁЯУЪ Melum Sugathara Sevaikal',
      body: 'Kooduthal sugathara sevaikal mattrum kalvi:',
      vaccines: 'ЁЯТЙ Thaduppusikal',
      alerts: 'ЁЯЪи Echarikaikal',
      prevention: 'ЁЯЫбя╕П Thaduppu'
    },
    or: {
      header: 'ЁЯУЪ рмЕрмзрм┐рмХ рм╕рнНрн▒рм╛рм╕рнНрмернНрнЯ рм╕рнЗрммрм╛',
      body: 'рмЕрмдрм┐рм░рм┐рмХрнНрмд рм╕рнНрн▒рм╛рм╕рнНрмернНрнЯ рм╕рнЗрммрм╛ рмПрммрмВ рм╢рм┐рмХрнНрм╖рм╛:',
      vaccines: 'ЁЯТЙ рмЯрм┐рмХрм╛',
      alerts: 'ЁЯЪи рм╕рмдрм░рнНрмХрмдрм╛',
      prevention: 'ЁЯЫбя╕П рмирм┐рммрм╛рм░рмг'
    },
    or_roman: {
      header: 'ЁЯУЪ Adhika Swasthya Seva',
      body: 'Atirikta swasthya seva ebam shiksha:',
      vaccines: 'ЁЯТЙ Tika',
      alerts: 'ЁЯЪи Satarkata',
      prevention: 'ЁЯЫбя╕П Nibarana'
    }
  };

  const lang = translations[userLanguage] || translations.en;

  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: lang.header
      },
      body: {
        text: lang.body
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'vaccination_tracker',
              title: lang.vaccines
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'health_alerts',
              title: lang.alerts
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'preventive_care',
              title: lang.prevention
            }
          }
        ]
      }
    }
  };
};

// Generate symptom checker flow buttons
const generateSymptomCheckerButtons = (userLanguage = 'en') => {
  const translations = {
    en: {
      header: 'ЁЯФН Symptom Checker',
      body: 'How would you like to check your symptoms?',
      describe: 'ЁЯУЭ Describe',
      categories: 'ЁЯУЛ Categories',
      emergency: 'ЁЯЪи Emergency'
    },
    hi: {
      header: 'ЁЯФН рд▓рдХреНрд╖рдг рдЬрд╛рдВрдЪрдХрд░реНрддрд╛',
      body: 'рдЖрдк рдЕрдкрдиреЗ рд▓рдХреНрд╖рдгреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХреИрд╕реЗ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?',
      describe: 'ЁЯУЭ рд╡рд░реНрдгрди рдХрд░реЗрдВ',
      categories: 'ЁЯУЛ рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ',
      emergency: 'ЁЯЪи рдЖрдкрд╛рддрдХрд╛рд▓'
    },
    hi_roman: {
      header: 'ЁЯФН Lakshan Janchkarta',
      body: 'Aap apne lakshanon ki janch kaise karna chahte hain?',
      describe: 'ЁЯУЭ Varnan Karen',
      categories: 'ЁЯУЛ Shreniyan',
      emergency: 'ЁЯЪи Apatkal'
    },
    te: {
      header: 'ЁЯФН р░▓р░Хр▒Нр░╖р░г р░кр░░р▒Ар░Хр▒Нр░╖р░Хр▒Бр░бр▒Б',
      body: 'р░ор▒Ар░░р▒Б р░ор▒А р░▓р░Хр▒Нр░╖р░гр░╛р░▓р░ир▒Б р░Ор░▓р░╛ р░др░ир░┐р░Цр▒А р░Ър▒Зр░пр░╛р░▓р░ир░┐ р░Ер░ир▒Бр░Хр▒Бр░Вр░Яр▒Бр░ир▒Нр░ир░╛р░░р▒Б?',
      describe: 'ЁЯУЭ р░╡р░┐р░╡р░░р░┐р░Вр░Ър░Вр░бр░┐',
      categories: 'ЁЯУЛ р░╡р░░р▒Нр░Чр░╛р░▓р▒Б',
      emergency: 'ЁЯЪи р░Ер░др▒Нр░пр░╡р░╕р░░р░В'
    },
    te_roman: {
      header: 'ЁЯФН Lakshana Pareekshakudu',
      body: 'Meeru mee lakshanaalanu ela thanikhi cheyaalani anukuntunnaaru?',
      describe: 'ЁЯУЭ Vivarinchandi',
      categories: 'ЁЯУЛ Vargaalu',
      emergency: 'ЁЯЪи Atyavasaram'
    },
    ta: {
      header: 'ЁЯФН роЕро▒ро┐роХрпБро▒ро┐ роЪро░ро┐рокро╛ро░рпНрокрпНрокро╛ро│ро░рпН',
      body: 'роЙроЩрпНроХро│рпН роЕро▒ро┐роХрпБро▒ро┐роХро│рпИ роОрокрпНрокроЯро┐ роЪро░ро┐рокро╛ро░рпНроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│рпН?',
      describe: 'ЁЯУЭ ро╡ро┐ро╡ро░ро┐роХрпНроХро╡рпБроорпН',
      categories: 'ЁЯУЛ ро╡роХрпИроХро│рпН',
      emergency: 'ЁЯЪи роЕро╡роЪро░роиро┐ро▓рпИ'
    },
    ta_roman: {
      header: 'ЁЯФН Arikuri Sariparpalar',
      body: 'Unga arikurikaс╕╖ai eppadi sariparkka virumbugireergal?',
      describe: 'ЁЯУЭ Vivarikavum',
      categories: 'ЁЯУЛ Vakaikal',
      emergency: 'ЁЯЪи Avasarniс╕╖ai'
    },
    or: {
      header: 'ЁЯФН рм▓рмХрнНрм╖рмг рмкрм░рнАрмХрнНрм╖рмХ',
      body: 'рмЖрмкрмг рмЖрмкрмгрмЩрнНрмХрм░ рм▓рмХрнНрм╖рмгрмЧрнБрмбрм╝рм┐рмХрнБ рмХрм┐рмкрм░рм┐ рмпрм╛рмЮрнНрмЪ рмХрм░рм┐рммрм╛рмХрнБ рмЪрм╛рм╣рм╛рмБрмирнНрмдрм┐?',
      describe: 'ЁЯУЭ рммрм░рнНрмгрнНрмгрмирм╛ рмХрм░рмирнНрмдрнБ',
      categories: 'ЁЯУЛ рммрм░рнНрмЧрмЧрнБрмбрм╝рм┐рмХ',
      emergency: 'ЁЯЪи рмЬрм░рнБрм░рнАрмХрм╛рм│рнАрми'
    },
    or_roman: {
      header: 'ЁЯФН Lakshana Pareekshaka',
      body: 'Aapana aapankara lakshanaguс╕Нikaku kipari yancha karibaku chahaanti?',
      describe: 'ЁЯУЭ Barnana Karantu',
      categories: 'ЁЯУЛ Bargaguс╕Нika',
      emergency: 'ЁЯЪи Jarurikalina'
    }
  };

  const lang = translations[userLanguage] || translations.en;

  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: lang.header
      },
      body: {
        text: lang.body
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'symptom_describe',
              title: lang.describe
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'symptom_categories',
              title: lang.categories
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'emergency_check',
              title: lang.emergency
            }
          }
        ]
      }
    }
  };
};

// Generate vaccination tracker buttons
const generateVaccinationButtons = () => {
  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: 'ЁЯТЙ Vaccination Tracker'
      },
      body: {
        text: 'Manage your vaccination schedule:'
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'vacc_schedule',
              title: 'ЁЯУЕ Schedule'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'vacc_due',
              title: 'тП░ Due Soon'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'vacc_info',
              title: 'тД╣я╕П Info'
            }
          }
        ]
      }
    }
  };
};

// Generate health alerts buttons
const generateHealthAlertsButtons = () => {
  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: 'ЁЯЪи Health Alerts'
      },
      body: {
        text: 'Stay updated with health information:'
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'outbreak_alerts',
              title: 'тЪая╕П Outbreaks'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'seasonal_health',
              title: 'ЁЯМбя╕П Seasonal'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'local_health',
              title: 'ЁЯУН Local News'
            }
          }
        ]
      }
    }
  };
};

// Generate preventive care buttons
const generatePreventiveCareButtons = () => {
  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: 'ЁЯЫбя╕П Preventive Healthcare'
      },
      body: {
        text: 'Learn about preventive health measures:'
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'nutrition_tips',
              title: 'ЁЯеЧ Nutrition'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'exercise_guide',
              title: 'ЁЯПГ Exercise'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'hygiene_tips',
              title: 'ЁЯз╝ Hygiene'
            }
          }
        ]
      }
    }
  };
};

// Generate feedback collection buttons
const generateFeedbackButtons = () => {
  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      header: {
        type: 'text',
        text: 'тнР Your Feedback Matters'
      },
      body: {
        text: 'Help us improve our healthcare service:'
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: 'rate_response',
              title: 'тнР Rate'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'suggest_improvement',
              title: 'ЁЯТб Suggest'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'report_issue',
              title: 'ЁЯРЫ Report'
            }
          }
        ]
      }
    }
  };
};

// Generate back navigation button
const generateBackButton = (backTo = 'main_menu') => {
  return {
    type: 'interactive',
    interactive: {
      type: 'button',
      body: {
        text: 'What would you like to do next?'
      },
      action: {
        buttons: [
          {
            type: 'reply',
            reply: {
              id: backTo,
              title: 'тмЕя╕П Back to Menu'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'more_help',
              title: 'тЭУ More Help'
            }
          },
          {
            type: 'reply',
            reply: {
              id: 'end_session',
              title: 'тЬЕ Done'
            }
          }
        ]
      }
    }
  };
};

module.exports = {
  generateMainMenuButtons,
  generateSecondaryMenuButtons,
  generateSymptomCheckerButtons,
  generateVaccinationButtons,
  generateHealthAlertsButtons,
  generatePreventiveCareButtons,
  generateFeedbackButtons,
  generateBackButton
};
